"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Dolittle. All rights reserved.
 *  Licensed under the MIT License. See LICENSE in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
const internal_1 = require("../internal");
const fancy_log_1 = __importDefault(require("fancy-log"));
/**
 * Setup the tasks from this package
 * @param {any} originalExports The original exports object in the scope of the gulpfile importing this
 */
function setupGulp(originalExports) {
    fancy_log_1.default.info('Creating tasks...');
    const context = new internal_1.GulpContext();
    const gulpTasks = internal_1.getGulpTasks(context);
    for (const task of gulpTasks.allTasks) {
        if (task.displayName === undefined)
            throw new Error('Task missing displayName!');
        originalExports[task.displayName] = task;
    }
    originalExports.default = (done) => {
        console.info('There is no default task');
        done();
        process.exit(0);
    };
    fancy_log_1.default.info('Executing task...');
}
exports.default = setupGulp;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2V0dXAuanMiLCJzb3VyY2VSb290IjoiLi9Tb3VyY2UvIiwic291cmNlcyI6WyJHdWxwL3NldHVwLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7OztnR0FHZ0c7QUFDaEcsMENBQXdEO0FBQ3hELDBEQUE0QjtBQUM1Qjs7O0dBR0c7QUFDSCxTQUF3QixTQUFTLENBQUMsZUFBb0I7SUFDbEQsbUJBQUcsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsQ0FBQztJQUM5QixNQUFNLE9BQU8sR0FBRyxJQUFJLHNCQUFXLEVBQUUsQ0FBQztJQUNsQyxNQUFNLFNBQVMsR0FBRyx1QkFBWSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQ3hDLEtBQUssTUFBTSxJQUFJLElBQUksU0FBUyxDQUFDLFFBQVEsRUFBRztRQUNwQyxJQUFJLElBQUksQ0FBQyxXQUFXLEtBQUssU0FBUztZQUFFLE1BQU0sSUFBSSxLQUFLLENBQUMsMkJBQTJCLENBQUMsQ0FBQztRQUNqRixlQUFlLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLElBQUksQ0FBQztLQUM1QztJQUNELGVBQWUsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxJQUE2QixFQUFFLEVBQUU7UUFDeEQsT0FBTyxDQUFDLElBQUksQ0FBQywwQkFBMEIsQ0FBQyxDQUFDO1FBQ3pDLElBQUksRUFBRSxDQUFDO1FBQ1AsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNwQixDQUFDLENBQUM7SUFFRixtQkFBRyxDQUFDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO0FBQ2xDLENBQUM7QUFmRCw0QkFlQyIsInNvdXJjZXNDb250ZW50IjpbIi8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiAgQ29weXJpZ2h0IChjKSBEb2xpdHRsZS4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMSUNFTlNFIGluIHRoZSBwcm9qZWN0IHJvb3QgZm9yIGxpY2Vuc2UgaW5mb3JtYXRpb24uXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cbmltcG9ydCB7IEd1bHBDb250ZXh0LCBnZXRHdWxwVGFza3MgfSBmcm9tICcuLi9pbnRlcm5hbCc7XG5pbXBvcnQgbG9nIGZyb20gJ2ZhbmN5LWxvZyc7XG4vKipcbiAqIFNldHVwIHRoZSB0YXNrcyBmcm9tIHRoaXMgcGFja2FnZVxuICogQHBhcmFtIHthbnl9IG9yaWdpbmFsRXhwb3J0cyBUaGUgb3JpZ2luYWwgZXhwb3J0cyBvYmplY3QgaW4gdGhlIHNjb3BlIG9mIHRoZSBndWxwZmlsZSBpbXBvcnRpbmcgdGhpc1xuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzZXR1cEd1bHAob3JpZ2luYWxFeHBvcnRzOiBhbnkpIHtcbiAgICBsb2cuaW5mbygnQ3JlYXRpbmcgdGFza3MuLi4nKTtcbiAgICBjb25zdCBjb250ZXh0ID0gbmV3IEd1bHBDb250ZXh0KCk7XG4gICAgY29uc3QgZ3VscFRhc2tzID0gZ2V0R3VscFRhc2tzKGNvbnRleHQpO1xuICAgIGZvciAoY29uc3QgdGFzayBvZiBndWxwVGFza3MuYWxsVGFza3MgKSB7XG4gICAgICAgIGlmICh0YXNrLmRpc3BsYXlOYW1lID09PSB1bmRlZmluZWQpIHRocm93IG5ldyBFcnJvcignVGFzayBtaXNzaW5nIGRpc3BsYXlOYW1lIScpO1xuICAgICAgICBvcmlnaW5hbEV4cG9ydHNbdGFzay5kaXNwbGF5TmFtZV0gPSB0YXNrO1xuICAgIH1cbiAgICBvcmlnaW5hbEV4cG9ydHMuZGVmYXVsdCA9IChkb25lOiAoZXJyb3I/OiBFcnJvcikgPT4gdm9pZCkgPT4ge1xuICAgICAgICBjb25zb2xlLmluZm8oJ1RoZXJlIGlzIG5vIGRlZmF1bHQgdGFzaycpO1xuICAgICAgICBkb25lKCk7XG4gICAgICAgIHByb2Nlc3MuZXhpdCgwKTtcbiAgICB9O1xuXG4gICAgbG9nLmluZm8oJ0V4ZWN1dGluZyB0YXNrLi4uJyk7XG59XG4iXX0=